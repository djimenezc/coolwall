/*! coolwall 17/12/2013 */
window.app=angular.module("coolwall",["ngRoute","ngCookies","ngResource","ui.bootstrap","ui.route","coolwall.system","coolwall.articles","coolwall.ideas","coolwall.board","ngDragDrop","xeditable"]),app.run(function(a){a.theme="default"}),angular.module("coolwall.system",[]),angular.module("coolwall.articles",[]),angular.module("coolwall.ideas",[]),angular.module("coolwall.board",["coolwall.ideas"]),window.app.config(["$routeProvider",function(a){a.when("/articles",{templateUrl:"views/articles/list.html"}).when("/articles/create",{templateUrl:"views/articles/create.html"}).when("/articles/:articleId/edit",{templateUrl:"views/articles/edit.html"}).when("/articles/:articleId",{templateUrl:"views/articles/view.html"}).when("/",{templateUrl:"views/board.html"}).otherwise({redirectTo:"/"})}]),window.app.config(["$locationProvider",function(a){a.hashPrefix("!")}]),angular.module("coolwall.articles").controller("ArticlesController",["$scope","$routeParams","$location","Global","Articles",function(a,b,c,d,e){a.global=d,a.oneAtATime=!0,a.create=function(){var a=new e({title:this.title,content:this.content});a.$save(function(a){c.path("articles/"+a._id)}),this.title="",this.content=""},a.remove=function(b){b.$remove();for(var c in a.articles)a.articles[c]==b&&a.articles.splice(c,1)},a.update=function(){var b=a.article;b.updated||(b.updated=[]),b.updated.push((new Date).getTime()),b.$update(function(){c.path("articles/"+b._id)})},a.find=function(){e.query(function(b){a.articles=b})},a.findOne=function(){e.get({articleId:b.articleId},function(b){a.article=b})}}]),angular.module("coolwall.board").controller("BoardController",["$scope","Global","IdeaService",function(a,b,c){a.global=b,a.global.ideas=[],a.onInit=function(){a.global.ideas=c.getIdeas()},a.global.oDraggedModel=null,a.oneAtATime=!0,a.dropCallback=function(b,d,e,f){var g=a.global.oDraggedModel;g.board_row=f,g.board_column=e,c.update(g)},a.dragStartCallback=function(b,c,d){a.global.oDraggedModel=d},a.updateIdeaTitle=function(a){c.update(a)},a.dropTrashCallback=function(){var b=a.global.oDraggedModel;c.remove(b);for(var d in a.global.ideas)a.global.ideas[d]==b&&a.global.ideas.splice(d,1)},a.createIdea=function(){c.create(this.title),this.title=""}}]),angular.module("coolwall.system").controller("HeaderController",["$scope","Global",function(a,b){a.global=b,a.menu=[{title:"Articles",link:"articles"},{title:"Create New Article",link:"articles/create"}],a.isCollapsed=!1}]),angular.module("coolwall.ideas").controller("IdeasController",["$scope","$routeParams","$location","Global","Ideas",function(a,b,c,d,e){a.global=d,a.create=function(){var a=new e({title:this.title,description:this.description});a.$save(function(a){c.path("ideas/"+a._id)}),this.title="",this.description=""},a.remove=function(b){b.$remove();for(var c in a.ideas)a.ideas[c]==b&&a.ideas.splice(c,1)},a.update=function(){var b=a.idea;b.updated||(b.updated=[]),b.updated.push((new Date).getTime()),b.$update(function(){c.path("ideas/"+b._id)})},a.find=function(){e.query(function(b){a.ideas=b})},a.findOne=function(){e.get({ideaId:b.ideaId},function(b){a.idea=b})}}]),angular.module("coolwall.system").controller("IndexController",["$scope","Global",function(a,b){a.global=b,a.menu=[]}]),angular.module("coolwall.modals",["ui.bootstrap","coolwall.board"]);var ModalDemoCtrl=function(a,b,c){a.open=function(){var d=b.open({templateUrl:"createIdeaModal.html",controller:ModalInstanceCtrl,resolve:{}});d.result.then(function(b){a.selected=b},function(){c.info("Modal dismissed at: "+new Date)})}},ModalInstanceCtrl=function(a,b,c){a.ok=function(){c.create(this.ideaTitle),b.close()},a.cancel=function(){}};window.bootstrap=function(){angular.bootstrap(document,["coolwall"])},window.init=function(){window.bootstrap()},angular.element(document).ready(function(){"#_=_"==window.location.hash&&(window.location.hash=""),window.init()}),angular.module("coolwall.articles").factory("Articles",["$resource",function(a){return a("articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}]),angular.module("coolwall.system").factory("Global",[function(){var a=this;return a._data={user:window.user,authenticated:!!window.user},a._data}]),angular.module("coolwall.ideas").service("IdeaService",function(a,b){this.getIdeas=function(){return d.$save(function(b){a.path("ideas/"+b._id),